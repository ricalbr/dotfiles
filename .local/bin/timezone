#!/bin/sh
# fzf-based timezone selector

ZONEINFO="/usr/share/zoneinfo"

TZ=$(find "$ZONEINFO" \
    -type f \
    | sed "s|$ZONEINFO/||" \
    | grep -Ev '^(Etc/|posix/|right/|Factory)' \
    | fzf --prompt="Timezone > " \
          --height=40% \
          --border)

[ -z "$TZ" ] && exit 0

echo "Setting timezone to: $TZ"
sudo ln -sf "$ZONEINFO/$TZ" /etc/localtime

echo
date

